<div class="form-container">
  <h2>Account</h2>
  <form #form="ngForm" [formGroup]="accountForm" novalidate>
    <!-- profile section -->
    <div class="form-section">
      <div mat-line class="form-name">Profile</div>
      <div mat-line class="form-description">
        Following information is publicly displayed, be careful!
      </div>

      <div class="form-group">
        <label for="name">Name</label>
        <mat-form-field appearance="outline">
          <input
            matInput
            id="name"
            formControlName="name"
            placeholder="Enter your name"
          />
          <mat-error *ngIf="accountForm.get('name')?.touched && accountForm.get('name')?.hasError('required')">
            Please enter the name
          </mat-error>
          <mat-icon matPrefix>person</mat-icon>
        </mat-form-field>
      </div>

      <div class="form-group form-username">
        <label for="username">Username</label>
        <mat-form-field appearance="outline">
          <input
            matInput
            id="username"
            formControlName="username"
            placeholder="Enter your Username"
          />
          <button matPrefix mat-flat-button disabled>hackertrail.com/</button>
        </mat-form-field>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="title">Title</label>
          <mat-form-field appearance="outline">
            <input
              matInput
              id="title"
              formControlName="title"
              placeholder="Enter your title"
            />
            <mat-icon matPrefix>business_center</mat-icon>
          </mat-form-field>
        </div>

        <div class="form-group">
          <label for="company">Company</label>
          <mat-form-field appearance="outline">
            <input
              matInput
              id="company"
              formControlName="company"
              placeholder="Enter your company"
            />
            <mat-icon matPrefix>business</mat-icon>
          </mat-form-field>
        </div>
      </div>

      <div class="form-group">
        <label for="about">About</label>
        <mat-form-field appearance="outline">
          <textarea
            matInput
            rows="3"
            id="about"
            formControlName="about"
            placeholder="About.."
          ></textarea>
          <mat-hint
            >Brief description about your profile. Basic HTML and emojis
            allowed.</mat-hint
          >
        </mat-form-field>
      </div>
    </div>

    <!-- personal info -->
    <div class="form-section">
      <div mat-line class="form-name">Personal Information</div>
      <div mat-line class="form-description">
        Communication details in case we want to connect with you. These will be
        kept private.
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="email">Email</label>
          <mat-form-field appearance="outline">
            <input
              matInput
              id="email"
              formControlName="email"
              placeholder="Enter your email"
            />
            <mat-icon matPrefix>email</mat-icon>
            <mat-error *ngIf="accountForm.get('email')?.hasError('email')">
              Please enter a valid email address
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-group">
          <label for="phone">Phone</label>
          <mat-form-field appearance="outline">
            <input
              matInput
              id="phone"
              formControlName="phone"
              placeholder="Enter your number"
            />
            <mat-icon matPrefix>phone</mat-icon>
            <mat-error *ngIf="accountForm.get('phone')?.hasError('pattern')">
              Please enter a valid phone number
            </mat-error>
          </mat-form-field>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="country">Country</label>
          <mat-form-field appearance="outline">
            <mat-icon matPrefix>location_on</mat-icon>
            <mat-select formControlName="country">
              <mat-option
                [value]="country.name"
                *ngFor="let country of countryList$ | async"
                >{{ country.name }}</mat-option
              >
            </mat-select>
          </mat-form-field>
        </div>

        <div class="form-group">
          <label for="language">Language</label>
          <mat-form-field appearance="outline">
            <mat-icon matPrefix>language</mat-icon>
            <mat-select formControlName="language">
              <mat-option
                [value]="language.name"
                *ngFor="let language of languageList$ | async"
                >{{ language.name }}</mat-option
              >
            </mat-select>
          </mat-form-field>
        </div>
      </div>
    </div>

    <!-- button -->
    <div class="form-button">
      <button mat-flat-button (click)="resetForm()">Reset</button>
      <button
        mat-flat-button
        color="primary"
        type="submit"
        (click)="saveForm()"
        [disabled]="!accountForm.valid"
      >
        Save
      </button>
    </div>
  </form>
</div>
